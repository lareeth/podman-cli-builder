language: minimal
dist: bionic

env:
  global:
    - GO_VERSION=1.12.9
    - PODMAN_VERSION=1.5.1

addons:
  apt:
    packages:
    - btrfs-tools
    - git
    - go-md2man
    - iptables
    - libassuan-dev
    - libc6-dev
    - libdevmapper-dev
    - libglib2.0-dev
    - libgpgme-dev
    - libgpg-error-dev
    - libostree-dev
    - libprotobuf-dev
    - libprotobuf-c0-dev
    - libseccomp-dev
    - libselinux1-dev
    - libsystemd-dev
    - pkg-config
    - runc
    - uidmap
  snaps:
    - name: go
      confinement: classic

script:
  - git clone https://github.com/containers/libpod/ $GOPATH/src/github.com/containers/libpod
  - cd $GOPATH/src/github.com/containers/libpod
  - make podman-remote-windows-release
